<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SikuliX Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SikuliX Blog Atom Feed"><title data-react-helmet="true">Screen | SikuliX</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Screen | SikuliX"><meta data-react-helmet="true" name="description" content="Class Screen"><meta data-react-helmet="true" property="og:description" content="Class Screen"><meta data-react-helmet="true" property="og:url" content="https://sikulix.github.io/docs/api/screen"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://sikulix.github.io/docs/api/screen"><link rel="stylesheet" href="/styles.079007c4.css">
<link rel="preload" href="/styles.30720f60.js" as="script">
<link rel="preload" href="/runtime~main.f868180d.js" as="script">
<link rel="preload" href="/main.168dcaec.js" as="script">
<link rel="preload" href="/1.dc505416.js" as="script">
<link rel="preload" href="/2.4bc8b1a2.js" as="script">
<link rel="preload" href="/46.0c21ebc2.js" as="script">
<link rel="preload" href="/47.565b7896.js" as="script">
<link rel="preload" href="/f976f453.bf50e9b1.js" as="script">
<link rel="preload" href="/17896441.91839df1.js" as="script">
<link rel="preload" href="/343cc202.b00208bc.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="SikuliX Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="SikuliX Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs _ 2.0.5+</a><a class="navbar__item navbar__link" href="/blog">Newsblog</a><a href="https://raiman.github.io/SikuliX1/downloads.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Downloads</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/RaiMan" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">‚òÖ GitHub</a><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" href="/">Ô£ø Donate</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="SikuliX Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="SikuliX Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs">Docs _ 2.0.5+</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Newsblog</a></li><li class="menu__list-item"><a href="https://raiman.github.io/SikuliX1/downloads.html" target="_blank" rel="noopener noreferrer" class="menu__link">Downloads</a></li><li class="menu__list-item"><a href="https://github.com/RaiMan" target="_blank" rel="noopener noreferrer" class="menu__link">‚òÖ GitHub</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link" href="/">Ô£ø Donate</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/start/installation">Installing SikuliX</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/start/first-steps">First Steps</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SikuliX Scripts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/scripts/work-in-progress-scripts">Work in progress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/scripts/about-scripts">About Scripts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/scripts/running-scripts">Running Scripts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/scripts/python">Using Python</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/scripts/java">Using Java</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/scripts/other">Other Languages</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Sikulix IDE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ide/work-in-progress-ide">Work in progress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ide/ide">About the IDE</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">SikuliX API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/work-in-progress-api">Work in progress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/scripting">Scripting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/interacting">Screen Interaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/global">Global Settings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/region">Region</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/location">Location</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/api/screen">Screen</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/pattern">Pattern</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/match">Matching an Image</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/finder">Finder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/keys">Keys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/appclass">App Class</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/ocr">OCR &amp; Text</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Help</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/help/faq">FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/help/questions">Questions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contribution</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contrib/contribution">How to contribute</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contrib/youtube">Videos on YouTube</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">License</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/legal/license">License</a></li></ul></li><li class="menu__list-item"><a href="https://raiman.github.io/SikuliX1/downloads.html" target="_blank" rel="noreferrer noopener" class="menu__link">Downloads</a></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Screen</h1></header><div class="markdown"><p><strong><em>Class Screen</em></strong>
Class <code>Screen</code> represents a pysical monitor mainly for the capturing process (grabbing a rectangle of pixels from a screenshot).
For Multi Monitor Environments it contains features to map to the relevant monitor.
Since class Screen extends class Region, all methods of class <code>Region</code> are available with a <code>Screen</code> object.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="settings--attributes"></a>Settings &amp; Attributes<a class="hash-link" href="#settings--attributes" title="Direct link to heading">#</a></h2><p><strong>getNumberScreens()</strong>
Get the number of screens in a multi-monitor environment at the time the script is running</p><p><strong>getBounds()</strong>
Get the dimensions of monitor represented by the <code>screen</code> object.</p><p>Returns:	a rectangle object
The width and height of the rectangle denote the dimensions of the monitor represented by the <code>screen</code> object. These attributes are obtained from the operating system. They can not be modified using SikuliX script.</p><p><strong>showMonitors()</strong>
Prints information about the current monitor setup - example:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-code codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">*** monitor configuration [ 2 Screen(s)] ***</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">*** Primary is Screen 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Screen 0: R[0,0 1920x1200]@S(0)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Screen 1: R[1920,0 1920x1080]@S(1)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">*** end monitor configuration ***</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="screen-as-region"></a>Screen as Region<a class="hash-link" href="#screen-as-region" title="Direct link to heading">#</a></h2><p>All region methods have to be used as <code>someRegion.find(PS)</code>, where someRegion is a <code>Region</code> object (or a Screen or a Match object). If written as <code>find(PS)</code> it acts on the default screen being the implicit region in this case (mapped to the constant reference SCREEN). In Multi Monitor Environments this is the primary monitor (use the constant reference SCREEN, to access it all the time), that normally is <code>Screen(0)</code>, but might be another <code>Screen()</code>object depending on your platform and settings.</p><p>Using the whole screen for find operations slows down processing speed, because of time consuming searches on the whole screen. So to speed up processing, saying <code>someRegion.find(PS)</code> will restrict the search to the specified rectangle. Another possibility is to say <code>setROI()</code> to restrict the search for all following find operations to a smaller region than the whole screen. This will speed up processing, if the region is significantly smaller than the whole screen.</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="capturing-screenshots"></a>Capturing Screenshots<a class="hash-link" href="#capturing-screenshots" title="Direct link to heading">#</a></h2><p>Capturing is the feature, to grab a rectangle of pixels from a screenshot and save it to a file for later use. Each time, a capturing is done, a new screenshot is taken (<code>Screen.capture()</code>).</p><p>There is an interactive variant <code>Screen.selectRegion()</code>, that just returns the position and dimension of the rectangle selected by the user interactively.</p><p>In the settings of the IDE there is an option, that allows to get a prompt for the imagename (interactive naming).</p><p><strong><em>class Screen</em></strong>
<strong><em>capture([region | rectangle | text])</em></strong>
<strong><em>capture(x, y, w, h)</em></strong></p><ul><li>Parameters:	<ul><li>region ‚Äì an existing region object.</li><li>rectangle ‚Äì an existing rectangle object (e.g., as a return value of another appropriate region method).</li><li>text ‚Äì text to display in the middle of the screen in the interactive mode.</li><li>x ‚Äì x position of the rectangle to capture</li><li>y ‚Äì y position of the rectangle to capture</li><li>w ‚Äì width of the rectangle to capture</li><li>h ‚Äì height of the rectangle to capture</li></ul></li><li>Returns:
the path to the file (always a file in temp storage), where the captured image was saved. In interactive mode, the user may cancel the capturing, in which case None is returned.</li></ul><p>Interactive Mode: The script enters the screen-capture mode like when clicking the button in the IDE, enabling the user to capture a rectangle on the screen. If no text is given, the default ‚ÄúSelect a region on the screen‚Äù is displayed.</p><p>If any valid arguments other than text are specified, capture() automatically captures the given rectangle of the screen. If valid, a new screenshot is taken and the content of the selected rectangle is saved in a temporary file. The file name is returned and can be used later in the script as a reference to this image. It can be used directly in cases, where a parameter PS is allowed (e.g. <code>Region.find()</code>, <code>Region.click()</code>, ‚Ä¶).</p><p><strong><em>selectRegion([text])</em></strong>
Select a region on the screen interactively</p><ul><li>Parameters:	text ‚Äì Text to display in the middle of the screen.</li><li>Returns:	a new Region object or None, if the user cancels the capturing process.
text is displayed for about 2 seconds in the middle of the screen. If text is omitted, the default ‚ÄúSelect a region on the screen‚Äù is displayed.</li></ul><p>The interactive capture mode is entered and allows the user to select a region the same way as using the selection tool in the IDE.</p><p>Note: You should check the result, since the user may cancel the capturing.</p><p>Save the captured image elsewhere (not temporary)</p><p><strong>class Screen</strong>
<strong>capture(region | text, [path, ]name)</strong>
only available in Python scripting (MUST be used as such undotted)</p><p>Works principally the same as the normal capture, but directly stores the resulting image to the specified location. The <code>name</code> spec need not have the <code>.png</code> ending.</p><p>If the path specification is omitted, the imagefile is stored in the current <a href="#">bundlepath</a>. In this case the imagename will finally be `<code>bundlepath/_name.png</code>, where the leading underscore is an IDE convention to block the automatic deletion of images, that are not namely referenced somewhere in the script, at the time the script is saved in the IDE.</p><ul><li>Parameters:	<ul><li>region ‚Äì an existing region object</li><li>text ‚Äì text to display in the interactive mode.</li><li>path ‚Äì a path to a folder where the image is stored (bundlepath if omitted)</li><li>name ‚Äì name of the image file (.png can be omitted)</li></ul></li><li>Returns:
the absolute path of the stored image as path/name.png or None if no success</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>‚Ä¶on Java usage or in non-Python</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-java codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">String filename = screen.saveCapture(Object... args)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">String filename = region.saveCapture(Object... args)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>‚Ä¶ where screen/region are some existing <code>Screen/Region</code> objects.</p><p>The args are according to the above parameter specifications of the two <code>Screen.capture()</code> variants.</p><p><code>screen.saveCapture()</code> is a shortcut for <code>String filename = screen.cmdCapture(Object... args).getStoredAt()</code></p><p>The intermediate result of <code>cmdCapture</code> is a <code>ScreenImage</code> object, that holds the image internally as BufferedImage (accessible using <code>ScreenImage.get()</code>).</p></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="multi-monitor-environments"></a>Multi-Monitor Environments<a class="hash-link" href="#multi-monitor-environments" title="Direct link to heading">#</a></h2><p>If more than one monitor is available, SikuliX is able to manage regions and click points on these monitors.</p><p><img src="https://sikulix-2014.readthedocs.io/en/latest/_images/multi.jpg" alt="img"></p><p>The base is the coordinate system (picture above), that positions the primary monitor with its upper left corner at (0,0) extending the x-direction to the right and the y-direction towards the lower boundary of the screen. The position of additional monitors can be configured in the operating system to be on either side of the primary monitor, with different positions and sizes. So monitors left of the primary will have pixels with negative x-values and monitors above will have negative y-values (left and above both x and y are negative).</p><p>At script start, SikuliX gets the relevant information from the operating system and creates respective screen objects, that have an ID (0 for the first or primary monitor, 1 and higher for additional monitors with a maximum of one less than the number of screens) and know the rectangle, they cover in the coordinate system.</p><p>These predefined screen objects can be accessed with Screen(0), Screen(1), ‚Ä¶ and are normally used to create your own screen objects. The possibility to use the region methods on a default region mapped to the primary monitor is implemented with the constant reference SCREEN. This concept is only available for the primary monitor.</p><p>How to get the relevant information:</p><p><code>getNumberScreens()</code> </p><ul><li>returns the number of available screens.</li></ul><p><code>getBounds()</code> </p><ul><li>returns the rectangle covered by the default/primary monitor.</li></ul><p><code>Screen.getBounds()</code> </p><ul><li>returns the rectangle covered by a screen object created using Screen(id).</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Be aware: Changes in your system settings are only recognized by the IDE, when it is started.</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="windows"></a>Windows<a class="hash-link" href="#windows" title="Direct link to heading">#</a></h4><p>The monitor, that is the first one based on hardware mapping (e.g. the laptop monitor), will always be Screen(0). In the Windows settings it is possible to place the taskbar on one of the secondary monitors, which makes it the primary monitor getting the base coordinates (0,0). The other available monitors are mapped around based on your settings. But the SikuliX internal mapping is not changed, so the primary monitor might be any of your <code>Screen()</code> objects. SikuliX takes care for that and maps SCREEN always to the primary monitor (the one with the (0,0) coordinates). So for example you have a laptop with an external monitor, that shows the taskbar (is primary monitor):</p><ul><li>SCREEN maps to Screen(1)</li><li>Screen(0) is your laptop monitor</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="mac"></a>Mac<a class="hash-link" href="#mac" title="Direct link to heading">#</a></h4><p>The monitor, that has the System Menu Bar, is always Screen(0) and mapped to the default SCREEN.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="exceptions"></a>Exceptions<a class="hash-link" href="#exceptions" title="Direct link to heading">#</a></h4><p>With its rectangle, a screen object is always identical with the monitor it was created using <code>Screen(id)</code>. Using <code>Region.setROI()</code> to restrict the region of interest for find operations has no effect on the base rectangle of the screen object.</p><p>On the other hand region objects and location objects can be positioned anywhere in the coordinate system. Only when a find operation or a click action has to be performed, the objects rectangle or point has to be inside the rectangle of an existing monitor (basically repersented by Screen(0), Screen(1), ‚Ä¶). When this condition is met, everything works as expected and known from a single monitor system.</p><p>With finding and acting there are the following exceptions:</p><ul><li>Point Outside: a click point is outside any monitor rectangle. The clickpoint will be mapped to the edges or corners of the primary monitor according to the relative position:<ul><li>to the edges if its x or y value is in the range of the respective edge (right, left, above, below)i</li><li>to the corners, if x and y are outside any range of any edge (left/above -&gt; upper left corner, ‚Ä¶)</li></ul></li><li>Region Outside: a region is completely outside any monitor<ul><li>a click action is handled in thesame way as Point Outside</li><li>a find operation will always fail</li></ul></li><li>Region Partially Outside: a region is partially outside a monitor but not overlapping another monitor<ul><li>a click action is handled in the same way as Point Outside</li><li>a find operation will be carried out only in the part of region within the bounds of the monitor, excluding the area outside the monitor.</li></ul></li><li>Region Across Monitors: a region lies across multiple monitors:<ul><li>a click action is handled in the same way as Point Outside</li><li>a find operation will be restricted to the region within the bounds of the monitor that has a smaller id.</li></ul></li></ul><p>An interactive capture (the user is asked to select an image or a rectangle via <code>Screen.capture()</code> or <code>Screen.selectRegion()</code>) will automatically be restricted to the monitor, where it was started.</p><p>A scripted capture using a rectangle or a region (i.e. <code>Screen.capture( region | rectangle )</code>), will be handled accordingly:</p><ul><li>Region Outside: no image is captured, None is returned</li><li>Region Partially Outside: the returned image will only cover the part inside the monitor</li><li>Region Across Monitors: the returned image will only cover the part inside the monitor with the smallest id.</li></ul><p>Based on the knowledge of your monitor configuration, you can now start some further evaluations using e.g. <code>Region.hover()</code> together with <code>setShowActions(True)</code> and highlighting using <code>Region.highlight()</code>.</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="vnc-server-vncscreen"></a>VNC Server (VNCScreen)<a class="hash-link" href="#vnc-server-vncscreen" title="Direct link to heading">#</a></h2><p>The implementation is based on the <code>TigerVNC Viewer</code> package and was initially contributed by <a href="https://github.com/pepijnve" target="_blank" rel="noopener noreferrer">Pepijn Van Eeckhoudt</a>.</p><p>The intention of the following information is to only describe what is officially supported by a <code>VNCScreen</code> object aquired using <code>vncStart()</code>. For usage of the classes in the package itself you have to read the javadocs or look into the sources.</p><p>To make the package more useable there are now highlevel wrappers, that hide the logic to create, start and stop the socket based connection. More than one connection can be used at one time, each represented by a different <code>VNCScreen</code> object.</p><p><strong>vncStart([ip=&quot;127.0.0.1&quot;,][port=5900,] [password=None,][connectionTimeout=10,] [timeout=1000])</strong></p><p>Start a VNC session to the given (usually remote) running VNC server and on success get a VNCScreen object, that can be used like a <a href="#">Screen</a> object. About the restrictions and special features see the comments below.</p><ul><li>Parameters:
ip ‚Äì the server IP (default: 127.0.0.1 loopback/localhost)
port ‚Äì the port number (default 5900)
password ‚Äì for password protected connections as plain text
connectionTimeout ‚Äì seconds to wait for a valid connection (default 10)
timeout ‚Äì the timout value in milli-seconds during normal operation (default 1000)</li><li>Returns:
a new VNCScreen object useable like a Screen object</li></ul><p><strong>stop()</strong>
Stop the referenced VNC session, which closes the underlying socket connection and makes the VNCScreen object unuseable.</p><p>mandatory usage <code>someVNCScreen.stop()</code>, where someVNCScreen is a VNCScreen object aquired before using <code>someVNCScreen = vncStart(...)</code>.</p><p>In basic operation environments there is no need to issue the <code>vnc.stop()</code> explicitely, because all active VNC connections are auto-stopped at the end of a script run or at termination of a Java run.</p><p>USAGE IN JAVA as being a static method in class <code>VNCScreen</code>, <code>vncStart()</code> has to be used as:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-java codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">VNCScreen vnc = VNCScreen.start(ip, port, connectionTimeout, timeout)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// or   VNCScreen vnc = VNCScreen.start(ip, port, password, connectionTimeout, timeout)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// the parameters are mandatory with values as mentioned above</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// password can be null for unprotected connections</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// do something with the vnc object</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">vnc.stop() // optional - see above</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="some-general-information-and-comments"></a>Some general information and comments<a class="hash-link" href="#some-general-information-and-comments" title="Direct link to heading">#</a></h4><p>Due to the current implementation concept of <code>VNCScreen</code>, <a href="#">Region</a> or <a href="#">Location</a> objects intended to be on a remote screen have to know this fact. Otherwise they are simply <code>Regions</code> and <code>Locations</code> on a local screen with fitting coordinates. This knowledge of being on a remote screen is internally propagated from one object to a new object created by a feature of the existing object. Hence in the beginning only the created <code>VNCScreen</code> object knows about being on a remote screen. So to create Regions and Locations on the remote screen from scratch, you have to use features of <code>VNCScreen</code>.</p><p><strong>These are the rules:</strong></p><ul><li>the <code>VNCScreen</code> object itself is a remote <code>Region</code> in this sense</li><li>each <code>Match</code>/<code>Region</code>/<code>Location</code> created using a <code>VNCScreen</code> object knows about being remote</li><li>each <code>Region</code>/<code>Location</code> object created using a feature of a remote <code>Region</code>/<code>Location</code> is also remote</li><li>to create a new <code>Region</code>/<code>Location</code> from scratch use the <code>newRegion()</code>/<code>newLocation()</code> methods of <code>VNCScreen</code></li><li>all mouse and keyboard actions using remote <code>Regions</code>/<code>Locations</code> are going to the remote screen</li></ul><p>Comment If you encounter problems with a remote Region/Location you think should be remote, but is not (e.g. clicking locally), then this is a bug, that can be worked around using:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-code codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># vnc is a VNCScreen object</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># reg/loc are faulty Region/Location</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">reg = vnc.set(reg)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">loc = vnc.set(loc)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># now both are set to being remote</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Methods to create new remote Regions and Locations:</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-code codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># someRegion/someLocation may be normal Region/Location objects</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># remoteRegion/remoteLocation/remoteMatch know about being remote</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">vnc = vncStart(&quot;192.168.2.25&quot;) # some VNC Server in the local net</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># create from scratch</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remoteRegion = vnc.newRegion(x, y, w, h)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remoteRegion = vnc.newRegion(someRegion)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remoteLocation = vnc.newLocation(x, y)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remoteLocation = vnc.newLocation(someLocation)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># remote aspect will automatically be propagated (in most cases :-(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remoteRegion = remoteRegion.right(200)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remoteMatch = vnc.find(&quot;someImage.png&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remoteLocation = remoteMatch.getCenter()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># inject the remote aspect if needed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">vnc.getRow(3, 4).getCol(1, 3).click() # will not be on VNC screen</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># so write as:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">vnc.set(vnc.getRow(3, 4).getCol(1, 3)).click() # now on VNC Screen</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><ul><li><p>Due to the correct RFB protocol implementaion in TigerVNC Viewer, it may take some time (up to few seconds depending on line speed and remote screen size) to initialize the frame buffer content after connection start. So if you get problems with the first access to the remote screen content (capture, userCapture, find operations explicit or implicit), you should simply add an appropriate <code>wait()</code> after the <code>vncStart()</code>. Experiences in local environment with large screens: 2 - 3 seconds are sufficient.</p></li><li><p>Not all documented <code>Screen</code>/<code>Region</code>/<code>Location</code> methods might work as expected due to implementation quirks. In case, feel free to report a bug (see comment above).</p></li><li><p>The current implementation only supports a limited set of <code>RemoteFrameBuffer</code> protocols. The above described level of usage is successfully tested from a Mac OSX 10.10+ against a TightVNC server running on a Windows 10 64-Bit in the local network or both client and server on the mentioned Windows machine using the loopback IP (127.0.0.1).</p></li></ul></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="android-device-or-emulator-adbscreen"></a>Android device or emulator (ADBScreen)<a class="hash-link" href="#android-device-or-emulator-adbscreen" title="Direct link to heading">#</a></h2><p>Based on the ideas and first implementation of <a href="https://github.com/tg44" target="_blank" rel="noopener noreferrer">Gerg≈ë T√∂rcsv√°ri</a> it is now possible to capture images from an Android device in the IDE and run scripts the same way as with a local screen. You can wait for images to appear on the Android screen and act with taps, swipes and text input. Since the avarage latency for a search operation is about 1 second (varies with screen resolution, region size and device processor speed), this solution only makes sense for basic automation and testing, where speed does not matter.</p><p>The implementation uses the <code>Android Debugging Bridge</code> tool <code>adb</code> and the <code>Java wrapper jadb</code></p><p>Most mouse and keyboard actions will do nothing but produce an error log. Android typical actions are available with class <code>Region</code>: <code>tap</code>, <code>swipe</code>, <code>input</code> and it is possible to issue device commands.</p><p>If used with a local screen, these features silently do nothing.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-tell-sikulix-where-you-have-adb-on-your-system"></a>How to tell SikuliX, where you have adb on your system<a class="hash-link" href="#how-to-tell-sikulix-where-you-have-adb-on-your-system" title="Direct link to heading">#</a></h4><p>With a standard setup, you&#x27;ll find a folder containing platform-tools, that in turn contains the executable <code>adb</code> (Windows: adb.exe). In this case, specifying the absolute path to the folder containing the platform-tools is sufficient.</p><p>In all other cases you must specify the complete absolute path to the executable <code>adb</code>.</p><p>In the following adb-path is one of the above alternatives:</p><ul><li><p>Option 1: have a system environment variable with the key <code>sikulixadb</code> and the value <code>adb-path</code></p></li><li><p>Option 2: have a Java property (-D‚Ä¶) with the key <code>sikulixadb</code> and the value <code>adb-path</code></p></li><li><p>Option 3: specify <code>adb-path</code> as parameter when starting the adb service in your script/program (see below). Be aware: This option 3 will not help, if you want to use the menu entry in the IDE‚Äôs Tools menu</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-start-and-use-the-adb-service"></a>How to start and use the adb service<a class="hash-link" href="#how-to-start-and-use-the-adb-service" title="Direct link to heading">#</a></h4><p>Take care, that your Android device is attached via USB to your system and is setup as accessible (see Android docs).</p><p>Now you might use the IDE‚Äôs Tool menu entry, to check, whether the device is found and accessible. Of course you might use your own script/program/solution to do that.</p><p>AS already mentioned: The Java class ADBScreen is the implementation, that represents the Android device in SikuliX and has the features of a normal Screen object and bound Regions implemented to work towards the device.</p><p>To get an object representing the device you either use</p><p><code>adbscr = ADBScreen.start()</code> with above options 1 or 2</p><p>or</p><p><code>adbscr = ADBScreen.start(&quot;adb-path&quot;)</code> hence using option 3</p><p>For Jython scripting there is a shortcut: <code>adbscr = adbStart()</code> or <code>adbscr = adbStart(&quot;adb-path&quot;)</code>.</p><p>Now for the rest of your script/program the variable adbscr represents the attached device and allows to use the implemented features in the normal way as <code>adbscr.someImplementedFeature(...)</code>.</p><p>To close a connection to a device use <code>adbscr.stop()</code>. This is done automatically when a script/program ends.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/SikuliX/sikulix.github.io/edit/website/docs/api/screen.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/api/location"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Location</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/api/pattern"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Pattern ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#settings--attributes" class="table-of-contents__link">Settings &amp; Attributes</a></li><li><a href="#screen-as-region" class="table-of-contents__link">Screen as Region</a></li><li><a href="#capturing-screenshots" class="table-of-contents__link">Capturing Screenshots</a></li><li><a href="#multi-monitor-environments" class="table-of-contents__link">Multi-Monitor Environments</a></li><li><a href="#vnc-server-vncscreen" class="table-of-contents__link">VNC Server (VNCScreen)</a></li><li><a href="#android-device-or-emulator-adbscreen" class="table-of-contents__link">Android device or emulator (ADBScreen)</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Documentation</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/start/installation">Installation</a></li><li class="footer__item"><a href="https://raiman.github.io/SikuliX1/downloads.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Downloads</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">LaunchPad</h4><ul class="footer__items"><li class="footer__item"><a href="https://answers.launchpad.net/sikuli" target="_blank" rel="noopener noreferrer" class="footer__link-item">Questions/Answers</a></li><li class="footer__item"><a href="https://bugs.launchpad.net/sikuli" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues/Bugs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">GitHub</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/RaiMan/SikuliX1/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues</a></li><li class="footer__item"><a href="https://github.com/RaiMan/SikuliX1/wiki" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wiki</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/sikuli+or+sikuli-x+or+sikuli-script+or+sikuli-ide" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://twitter.com/sikulix" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Stuff</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/RaiMan" target="_blank" rel="noopener noreferrer" class="footer__link-item">RaiMan</a></li><li class="footer__item"><a href="http://sikulix.com/disclaimer/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 SikuliX. Built with Docusaurus by Panx Project.</div></div></div></footer></div>
<script src="/styles.30720f60.js"></script>
<script src="/runtime~main.f868180d.js"></script>
<script src="/main.168dcaec.js"></script>
<script src="/1.dc505416.js"></script>
<script src="/2.4bc8b1a2.js"></script>
<script src="/46.0c21ebc2.js"></script>
<script src="/47.565b7896.js"></script>
<script src="/f976f453.bf50e9b1.js"></script>
<script src="/17896441.91839df1.js"></script>
<script src="/343cc202.b00208bc.js"></script>
</body>
</html>