(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{106:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return b}));var a=n(3),i=n(7),r=(n(0),n(116)),o={id:"finder",title:"Finder",sidebar_label:"Finder"},l={unversionedId:"api/finder",id:"api/finder",isDocsHomePage:!1,title:"Finder",description:"class Finder",source:"@site/docs\\api\\finder.md",slug:"/api/finder",permalink:"/docs/api/finder",editUrl:"https://github.com/SikuliX/sikulix.github.io/edit/website/docs/api/finder.md",version:"current",sidebar_label:"Finder",sidebar:"docs",previous:{title:"Matching an Image",permalink:"/docs/api/match"},next:{title:"Keys",permalink:"/docs/api/keys"}},c=[],s={toc:c};function b(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"class Finder"),"\nBe aware: Since 1.1.0 the behavior is changed compared to previous versions, to be consistent with ",Object(r.b)("inlineCode",{parentName:"p"},"Region.find()"),"/",Object(r.b)("inlineCode",{parentName:"p"},"findAll()"),"."),Object(r.b)("p",null,"A Finder object implements an iterator of matches and allows to search for a visual object in an image file that you provide (e.g. a screenshot taken and saved in a file before). After setting up the finder object and doing a find operation, you can iterate through the found matches if any."),Object(r.b)("p",null,"Be aware: an iterator can be stepped through only once - it is empty afterwards"),Object(r.b)("p",null,"Compared with the region based ",Object(r.b)("inlineCode",{parentName:"p"},"find/findAll")," operation, no exception ",Object(r.b)("inlineCode",{parentName:"p"},"FindFailed")," is raised in case nothing is found at all. Use ",Object(r.b)("inlineCode",{parentName:"p"},"hasNext()")," to check."),Object(r.b)("p",null,":::Note\nThere is no chance, to get the number of matches in advance. If you iterate through to count, afterwards your finder is empty. So you have to save your matches somehow while counting, if you need them later (one possible solution see example below).\n:::"),Object(r.b)("p",null,"The workflow always is (except for findChanges):\nsetup a ",Object(r.b)("inlineCode",{parentName:"p"},"Finder")),Object(r.b)("p",null,"do a ",Object(r.b)("inlineCode",{parentName:"p"},"find")," or ",Object(r.b)("inlineCode",{parentName:"p"},"findAll")," operation"),Object(r.b)("p",null,"check with ",Object(r.b)("inlineCode",{parentName:"p"},"hasNext()"),", wether anything was found at all"),Object(r.b)("p",null,"get the available matches with ",Object(r.b)("inlineCode",{parentName:"p"},"next()")," if ",Object(r.b)("inlineCode",{parentName:"p"},"hasNext()")," says more are available"),Object(r.b)("p",null,"After a complete iteration, the ",Object(r.b)("inlineCode",{parentName:"p"},"finder")," object is empty.\nYou can start a new find or findAll operation on the same Finder object at any time."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"class Finder"),"\n",Object(r.b)("inlineCode",{parentName:"p"},"Finder(path-to-imagefile)"),"\nCreate a new finder object."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Parameters:\tpath-to-imagefile``` \u2013 filename to a source image to search within")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"find(path-to-imagefile","[, similarity]",")")),Object(r.b)("p",null,"Find a given image within a source image previously specified in the constructor of the finder object. If more than one match is possible, yet only one is returned and which one is not predictible."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Parameters:\t",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"path-to-imagefile \u2013 the target image to search for"),Object(r.b)("li",{parentName:"ul"},"similarity \u2013 the minimum similarity a match should have. If omitted, the default is used.")))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"findAll(path-to-imagefile","[, similarity]",")")),Object(r.b)("p",null,"Find all occurences of the given image within a source image previously specified in the constructor of the finder object."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Parameters:\npath-to-imagefile \u2013 the target image to search for\nsimilarity \u2013 the minimum similarity a match should have. If omitted, the default is used.")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"hasNext()")),Object(r.b)("p",null,"Check whether there are more matches available that satisfy the minimum similarity requirement. A False returned after the first ",Object(r.b)("inlineCode",{parentName:"p"},"hasNext()")," signals, that nothing was found at all."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Returns:\tTrue if more matches exist.")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"next()"),"\nGet the next match."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Returns:\ta Match object or None, if empty or no more matches.\nThe returned reference to a match object is no longer available in the finder object afterwards. So if it is needed later, it has to be saved to another variable.")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"findChanges(path-to-imagefile)")),Object(r.b)("p",null,"Find rectangle areas in an image (the one the Finder was created with), that differ from another image. This feature is the image variant of onChange in the Region observe feature for one-time-use."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Parameters:\tpath-to-imagefile \u2013 the target image to compare with (exactly same size in pixels)"),Object(r.b)("li",{parentName:"ul"},"Returns:\ta list of Region objects (empty, if no changes where detected).")),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"Some Information on implementation"),Object(r.b)("ul",{parentName:"div"},Object(r.b)("li",{parentName:"ul"},"both images are converted to grayscale"),Object(r.b)("li",{parentName:"ul"},"only pixels whose gray value differs +-3 (PIXEL_DIFF) are looked at"),Object(r.b)("li",{parentName:"ul"},"if more than 5 pixels are detected (IMAGE_DIFF) a change is assumed")),Object(r.b)("p",{parentName:"div"},"You can set these values as needed after having created the Finder"),Object(r.b)("ul",{parentName:"div"},Object(r.b)("li",{parentName:"ul"},"use ",Object(r.b)("inlineCode",{parentName:"li"},"finder.setFindChangesImageDiff(int value)")," to adjust ",Object(r.b)("inlineCode",{parentName:"li"},"PIXEL_DIFF")),Object(r.b)("li",{parentName:"ul"},"use ",Object(r.b)("inlineCode",{parentName:"li"},"finder.setFindChangesImageDiff(int value)")," to adjust ",Object(r.b)("inlineCode",{parentName:"li"},"IMAGE_DIFF"))),Object(r.b)("p",{parentName:"div"},"With a new Finder object, the values are reset to the default"),Object(r.b)("ul",{parentName:"div"},Object(r.b)("li",{parentName:"ul"},"use ",Object(r.b)("inlineCode",{parentName:"li"},"finder.resetFindChanges()")," to do this on the fly for a Finder object")))),Object(r.b)("h5",{id:"example-1-findall-using-a-finder"},"Example 1: findAll using a Finder"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-code"},'# create a Finder with your saved screenshot\nf = Finder(some-screenshot.png)\nimg= \ud83e\udd91 # the image you are searching\n\nf.findAll(img) # find all matches\n\nwhile f.hasNext(): # loop as long there is a first and more matches\n        print "found: ", f.next() # access the next match in the row\n\nprint f.hasNext() # is False, because f is empty now\n')),Object(r.b)("h5",{id:"example-2-we-want-to-know-how-many-matches-in-advance-and-want-to-save-the-matches-for-later-use-based-on-the-previous-example"},"Example 2: we want to know how many matches in advance and want to save the matches for later use (based on the previous example)."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-code"},"# create a Finder with your saved screenshot\nf = Finder(some-screenshot.png)\nimg= \ud83e\udd91 # the image you are searching\n\nf.findAll(img) # find all matches\nmatches = [] # an empty list to store the matches\n\nwhile f.hasNext(): # loop as long there is a first and more matches\n        matches.append(f.next())        # access next match and add to matches\n\nprint f.hasNext() # is False, because f is empty now\n\n# now we have our matches saved in the list matches\nprint len(matches) # the number of matches\n\n# we want to use our matches\nfor m in matches:\n        print m\n")))}b.isMDXComponent=!0},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var a=n(0),i=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=i.a.createContext({}),b=function(e){var t=i.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=b(e.components);return i.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),m=b(n),d=a,h=m["".concat(o,".").concat(d)]||m[d]||p[d]||r;return n?i.a.createElement(h,l(l({ref:t},s),{},{components:n})):i.a.createElement(h,l({ref:t},s))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);